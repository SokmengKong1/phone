{"ast":null,"code":"// PageFlipBook.js\nimport React,{useEffect,useRef,useState}from'react';import{Document,Page}from'react-pdf';import{PageFlip}from'./Com_Type.pdf';import{jsx as _jsx}from\"react/jsx-runtime\";const PageFlipBook=_ref=>{let{pdf}=_ref;const bookRef=useRef(null);const pageFlipRef=useRef(null);const[numPages,setNumPages]=useState(null);useEffect(()=>{if(bookRef.current){pageFlipRef.current=new PageFlip(bookRef.current,{width:400,// Adjust as per your requirement\nheight:600,// Adjust as per your requirement\nsize:'stretch',minWidth:315,maxWidth:1000,minHeight:420,maxHeight:1350,maxShadowOpacity:0.5,showCover:true,mobileScrollSupport:false});}return()=>{if(pageFlipRef.current){pageFlipRef.current.destroy();}};},[]);const onDocumentLoadSuccess=_ref2=>{let{numPages}=_ref2;setNumPages(numPages);};useEffect(()=>{if(numPages&&pageFlipRef.current){pageFlipRef.current.loadFromHTML(document.querySelectorAll('.page'));}},[numPages]);const renderPages=()=>{const pages=[];for(let i=1;i<=numPages;i++){pages.push(/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsx(Page,{pageNumber:i,width:400})},i));}return pages;};return/*#__PURE__*/_jsx(\"div\",{className:\"page-flip-book\",ref:bookRef,children:/*#__PURE__*/_jsx(Document,{file:pdf,onLoadSuccess:onDocumentLoadSuccess,loading:/*#__PURE__*/_jsx(\"div\",{children:\"Loading PDF...\"}),children:numPages&&renderPages()})});};export default PageFlipBook;","map":{"version":3,"names":["React","useEffect","useRef","useState","Document","Page","PageFlip","jsx","_jsx","PageFlipBook","_ref","pdf","bookRef","pageFlipRef","numPages","setNumPages","current","width","height","size","minWidth","maxWidth","minHeight","maxHeight","maxShadowOpacity","showCover","mobileScrollSupport","destroy","onDocumentLoadSuccess","_ref2","loadFromHTML","document","querySelectorAll","renderPages","pages","i","push","className","children","pageNumber","ref","file","onLoadSuccess","loading"],"sources":["F:/Project/Project/book/my-flipbook-app/src/PageFlipBook.jsx"],"sourcesContent":["// PageFlipBook.js\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Document, Page } from 'react-pdf';\r\nimport { PageFlip } from './Com_Type.pdf';\r\n\r\nconst PageFlipBook = ({ pdf }) => {\r\n    const bookRef = useRef(null);\r\n    const pageFlipRef = useRef(null);\r\n    const [numPages, setNumPages] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (bookRef.current) {\r\n            pageFlipRef.current = new PageFlip(\r\n                bookRef.current,\r\n                {\r\n                    width: 400, // Adjust as per your requirement\r\n                    height: 600, // Adjust as per your requirement\r\n                    size: 'stretch',\r\n                    minWidth: 315,\r\n                    maxWidth: 1000,\r\n                    minHeight: 420,\r\n                    maxHeight: 1350,\r\n                    maxShadowOpacity: 0.5,\r\n                    showCover: true,\r\n                    mobileScrollSupport: false,\r\n                }\r\n            );\r\n        }\r\n\r\n        return () => {\r\n            if (pageFlipRef.current) {\r\n                pageFlipRef.current.destroy();\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    const onDocumentLoadSuccess = ({ numPages }) => {\r\n        setNumPages(numPages);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (numPages && pageFlipRef.current) {\r\n            pageFlipRef.current.loadFromHTML(document.querySelectorAll('.page'));\r\n        }\r\n    }, [numPages]);\r\n\r\n    const renderPages = () => {\r\n        const pages = [];\r\n        for (let i = 1; i <= numPages; i++) {\r\n            pages.push(\r\n                <div className=\"page\" key={i}>\r\n                    <Page pageNumber={i} width={400} />\r\n                </div>\r\n            );\r\n        }\r\n        return pages;\r\n    };\r\n\r\n    return (\r\n        <div className=\"page-flip-book\" ref={bookRef}>\r\n            <Document\r\n                file={pdf}\r\n                onLoadSuccess={onDocumentLoadSuccess}\r\n                loading={<div>Loading PDF...</div>}\r\n            >\r\n                {numPages && renderPages()}\r\n            </Document>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageFlipBook;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,QAAQ,CAAEC,IAAI,KAAQ,WAAW,CAC1C,OAASC,QAAQ,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAa,IAAZ,CAAEC,GAAI,CAAC,CAAAD,IAAA,CACzB,KAAM,CAAAE,OAAO,CAAGV,MAAM,CAAC,IAAI,CAAC,CAC5B,KAAM,CAAAW,WAAW,CAAGX,MAAM,CAAC,IAAI,CAAC,CAChC,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAE9CF,SAAS,CAAC,IAAM,CACZ,GAAIW,OAAO,CAACI,OAAO,CAAE,CACjBH,WAAW,CAACG,OAAO,CAAG,GAAI,CAAAV,QAAQ,CAC9BM,OAAO,CAACI,OAAO,CACf,CACIC,KAAK,CAAE,GAAG,CAAE;AACZC,MAAM,CAAE,GAAG,CAAE;AACbC,IAAI,CAAE,SAAS,CACfC,QAAQ,CAAE,GAAG,CACbC,QAAQ,CAAE,IAAI,CACdC,SAAS,CAAE,GAAG,CACdC,SAAS,CAAE,IAAI,CACfC,gBAAgB,CAAE,GAAG,CACrBC,SAAS,CAAE,IAAI,CACfC,mBAAmB,CAAE,KACzB,CACJ,CAAC,CACL,CAEA,MAAO,IAAM,CACT,GAAIb,WAAW,CAACG,OAAO,CAAE,CACrBH,WAAW,CAACG,OAAO,CAACW,OAAO,CAAC,CAAC,CACjC,CACJ,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,qBAAqB,CAAGC,KAAA,EAAkB,IAAjB,CAAEf,QAAS,CAAC,CAAAe,KAAA,CACvCd,WAAW,CAACD,QAAQ,CAAC,CACzB,CAAC,CAEDb,SAAS,CAAC,IAAM,CACZ,GAAIa,QAAQ,EAAID,WAAW,CAACG,OAAO,CAAE,CACjCH,WAAW,CAACG,OAAO,CAACc,YAAY,CAACC,QAAQ,CAACC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CACxE,CACJ,CAAC,CAAE,CAAClB,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAmB,WAAW,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAAC,KAAK,CAAG,EAAE,CAChB,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAIrB,QAAQ,CAAEqB,CAAC,EAAE,CAAE,CAChCD,KAAK,CAACE,IAAI,cACN5B,IAAA,QAAK6B,SAAS,CAAC,MAAM,CAAAC,QAAA,cACjB9B,IAAA,CAACH,IAAI,EAACkC,UAAU,CAAEJ,CAAE,CAAClB,KAAK,CAAE,GAAI,CAAE,CAAC,EADZkB,CAEtB,CACT,CAAC,CACL,CACA,MAAO,CAAAD,KAAK,CAChB,CAAC,CAED,mBACI1B,IAAA,QAAK6B,SAAS,CAAC,gBAAgB,CAACG,GAAG,CAAE5B,OAAQ,CAAA0B,QAAA,cACzC9B,IAAA,CAACJ,QAAQ,EACLqC,IAAI,CAAE9B,GAAI,CACV+B,aAAa,CAAEd,qBAAsB,CACrCe,OAAO,cAAEnC,IAAA,QAAA8B,QAAA,CAAK,gBAAc,CAAK,CAAE,CAAAA,QAAA,CAElCxB,QAAQ,EAAImB,WAAW,CAAC,CAAC,CACpB,CAAC,CACV,CAAC,CAEd,CAAC,CAED,cAAe,CAAAxB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}